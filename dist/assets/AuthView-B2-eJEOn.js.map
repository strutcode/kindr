{"version":3,"file":"AuthView-B2-eJEOn.js","sources":["../../src/views/AuthView.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-md w-full space-y-8\">\n      <div class=\"text-center\">\n        <h2 class=\"mt-6 text-3xl font-bold text-gray-900\">Let's get started!</h2>\n        <p class=\"mt-2 text-sm text-gray-600\">Sign in or join the Kindr community.</p>\n      </div>\n\n      <div>\n        <Button\n          @click=\"handleGoogleSignIn\"\n          class=\"w-full\"\n          :disabled=\"authStore.loading\"\n          variant=\"outline\"\n          icon-left=\"fa6-brands:google\"\n        >\n          Continue with Google\n        </Button>\n      </div>\n\n      <div class=\"flex items-center justify-center\">\n        <div class=\"flex items-center\">\n          <div class=\"flex-1 border-t border-gray-200\" />\n          <div class=\"px-4 text-sm text-gray-500\">or</div>\n          <div class=\"flex-1 border-t border-gray-200\" />\n        </div>\n      </div>\n\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleSubmit\">\n        <div class=\"space-y-4\">\n          <div v-if=\"isSignUp\">\n            <label for=\"fullName\" class=\"block text-sm font-medium text-gray-700\">\n              Full Name\n            </label>\n            <input\n              id=\"fullName\"\n              v-model=\"form.fullName\"\n              type=\"text\"\n              required\n              class=\"input\"\n              placeholder=\"Enter your full name\"\n            />\n          </div>\n\n          <div>\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">\n              Email address\n            </label>\n            <input\n              id=\"email\"\n              v-model=\"form.email\"\n              type=\"email\"\n              required\n              class=\"input\"\n              placeholder=\"Enter your email\"\n            />\n          </div>\n\n          <div>\n            <label for=\"password\" class=\"block text-sm font-medium text-gray-700\"> Password </label>\n            <input\n              id=\"password\"\n              v-model=\"form.password\"\n              type=\"password\"\n              required\n              class=\"input\"\n              :placeholder=\"isSignUp ? 'Create a password' : 'Enter your password'\"\n            />\n          </div>\n        </div>\n\n        <div v-if=\"error\" class=\"rounded-md bg-error-50 p-4\">\n          <div class=\"text-sm text-error-700\">\n            {{ error }}\n          </div>\n        </div>\n\n        <div>\n          <Button\n            type=\"submit\"\n            :loading=\"authStore.loading\"\n            :disabled=\"authStore.loading\"\n            class=\"btn btn-primary w-full\"\n          >\n            {{ isSignUp ? 'Create Account' : 'Sign In' }}\n          </Button>\n        </div>\n\n        <div class=\"text-center\">\n          <button\n            type=\"button\"\n            @click=\"isSignUp = !isSignUp\"\n            class=\"text-sm text-primary-600 hover:text-primary-500\"\n          >\n            {{ isSignUp ? 'Already have an account? Sign in' : 'Need an account? Sign up' }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n  import { ref, reactive } from 'vue'\n  import { useRouter, useRoute } from 'vue-router'\n  import { useAuthStore } from '@/stores/auth'\n  import Button from '@/components/widgets/Button.vue'\n\n  const router = useRouter()\n  const route = useRoute()\n  const authStore = useAuthStore()\n\n  const isSignUp = ref(false)\n  const error = ref('')\n\n  const form = reactive({\n    fullName: '',\n    email: '',\n    password: '',\n  })\n\n  const handleSubmit = async () => {\n    error.value = ''\n\n    try {\n      let result\n      if (isSignUp.value) {\n        result = await authStore.signUp(form.email, form.password, form.fullName)\n      } else {\n        result = await authStore.signIn(form.email, form.password)\n      }\n\n      if (result.error) {\n        error.value = result.error\n        return\n      }\n\n      // Redirect to intended page or home\n      const redirect = route.query.redirect as string\n      router.push(redirect || { name: 'browse' })\n    } catch (err: any) {\n      error.value = err.message || 'An error occurred'\n    }\n  }\n\n  const handleGoogleSignIn = async () => {\n    error.value = ''\n\n    try {\n      const result = await authStore.signInWithGoogle()\n      if (result.error) {\n        error.value = result.error\n      }\n    } catch (err: any) {\n      error.value = err.message || 'An error occurred'\n    }\n  }\n</script>\n"],"names":["router","useRouter","route","useRoute","authStore","useAuthStore","isSignUp","ref","error","form","reactive","handleSubmit","result","redirect","err","handleGoogleSignIn","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","Button","_unref","_cache","_hoisted_3","_hoisted_4","$event","_vModelText","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8"],"mappings":"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"}