import{d as p,k as f,e as v,s as g,c as l,p as w,a as o,h as t,w as u,B as c,t as m,j as r,I as d,o as n,P as y,_ as k}from"./index-BGnEo6Zc.js";import{useAlertsStore as b}from"./alerts-DP9TFFJE.js";import{A}from"./AlertForm-BRSOu7BT.js";import"./constants-DDm60LNs.js";import"./LocationSelector-B3MsbmQD.js";import"./Map-aIQ7w-tr.js";import"./Text.vue_vue_type_script_setup_true_lang-CxVtjZvh.js";import"./location-C0Q4Qz_1.js";const x={key:0,class:"form-section"},B={class:"form-header"},C={class:"form-title grow"},S={key:1},V={class:"form-header"},E={key:2,class:"error-banner"},I=p({__name:"AlertUpdateView",setup(N){const e=b(),h=g(),a=f(null),_=async s=>{try{if(!a.value)throw new Error("Alert not found");await e.updateAlert(a.value.id,s),y.push({name:"alerts"})}catch{}};return v(async()=>{await e.fetchAlerts(),a.value=e.alerts.find(s=>s.id===h.params.id)??null}),(s,i)=>(n(),l("div",null,[a.value?(n(),l("div",x,[o("div",B,[t(c,{variant:"ghost",link:{name:"alerts"},class:"hover:bg-gray-100 mr-3"},{default:u(()=>[t(r(d),{icon:"tabler:chevron-left",class:"w-6 h-6 text-gray-500"})]),_:1}),o("h2",C,"Editing "+m(a.value.name),1)]),t(A,{alert:a.value,loading:r(e).loading,useMiles:!0,onSubmit:_},null,8,["alert","loading"])])):(n(),l("div",S,[o("div",V,[t(c,{variant:"ghost",link:{name:"alerts"},class:"hover:bg-gray-100 mr-3"},{default:u(()=>[t(r(d),{icon:"tabler:chevron-left",class:"w-6 h-6 text-gray-500"})]),_:1}),i[0]||(i[0]=o("h2",{class:"form-title grow"},"Loading Alert...",-1))])])),r(e).error?(n(),l("div",E,[t(r(d),{icon:"tabler:alert-triangle",class:"error-icon"}),o("span",null,m(r(e).error),1),t(c,{variant:"ghost",size:"sm","icon-left":"tabler:x",onClick:r(e).clearError,class:"error-close"},null,8,["onClick"])])):w("",!0)]))}}),R=k(I,[["__scopeId","data-v-1cd22d2d"]]);export{R as default};
//# sourceMappingURL=AlertUpdateView-BpIyx7Xr.js.map
