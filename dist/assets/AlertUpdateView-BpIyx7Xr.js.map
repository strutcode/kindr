{"version":3,"file":"AlertUpdateView-BpIyx7Xr.js","sources":["../../src/views/AlertUpdateView.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"alert\" class=\"form-section\">\n      <div class=\"form-header\">\n        <Button variant=\"ghost\" :link=\"{ name: 'alerts' }\" class=\"hover:bg-gray-100 mr-3\">\n          <Icon icon=\"tabler:chevron-left\" class=\"w-6 h-6 text-gray-500\" />\n        </Button>\n        <h2 class=\"form-title grow\">Editing {{ alert.name }}</h2>\n      </div>\n      <AlertForm\n        :alert=\"alert\"\n        :loading=\"alertsStore.loading\"\n        :useMiles=\"true\"\n        @submit=\"handleSubmit\"\n      />\n    </div>\n    <div v-else>\n      <div class=\"form-header\">\n        <Button variant=\"ghost\" :link=\"{ name: 'alerts' }\" class=\"hover:bg-gray-100 mr-3\">\n          <Icon icon=\"tabler:chevron-left\" class=\"w-6 h-6 text-gray-500\" />\n        </Button>\n        <h2 class=\"form-title grow\">Loading Alert...</h2>\n      </div>\n    </div>\n\n    <!-- Error Message -->\n    <div v-if=\"alertsStore.error\" class=\"error-banner\">\n      <Icon icon=\"tabler:alert-triangle\" class=\"error-icon\" />\n      <span>{{ alertsStore.error }}</span>\n      <Button\n        variant=\"ghost\"\n        size=\"sm\"\n        icon-left=\"tabler:x\"\n        @click=\"alertsStore.clearError\"\n        class=\"error-close\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n  import { onMounted, ref } from 'vue'\n  import { Icon } from '@iconify/vue'\n  import { useAlertsStore } from '@/stores/alerts'\n  import AlertForm from '@/components/alerts/AlertForm.vue'\n  import Button from '@/components/widgets/Button.vue'\n  import router from '@/router'\n  import { Alert } from '@/types'\n  import { useRoute } from 'vue-router'\n\n  const alertsStore = useAlertsStore()\n  const route = useRoute()\n\n  const alert = ref<Alert | null>(null)\n\n  const handleSubmit = async (data: any) => {\n    try {\n      if (!alert.value) {\n        throw new Error('Alert not found')\n      }\n\n      await alertsStore.updateAlert(alert.value.id, data)\n      router.push({ name: 'alerts' })\n    } catch (error) {\n      // Error is handled by the store\n    }\n  }\n\n  onMounted(async () => {\n    await alertsStore.fetchAlerts()\n    alert.value = alertsStore.alerts.find(alert => alert.id === route.params.id) ?? null\n  })\n</script>\n\n<style scoped>\n  .form-section {\n    @apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden;\n  }\n\n  .form-header {\n    @apply flex items-center justify-between p-6 border-b border-gray-200;\n  }\n\n  .form-title {\n    @apply text-xl font-semibold text-gray-900;\n  }\n\n  .close-button {\n    @apply text-gray-400 hover:text-gray-600;\n  }\n\n  .error-banner {\n    @apply flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-lg;\n    @apply text-red-700;\n  }\n\n  .error-icon {\n    @apply w-5 h-5 text-red-500 flex-shrink-0;\n  }\n\n  .error-close {\n    @apply ml-auto text-red-600 hover:text-red-800;\n  }\n\n  .alerts-section {\n    @apply space-y-6;\n  }\n\n  .section-header {\n    @apply flex items-center justify-between;\n  }\n\n  .section-title {\n    @apply text-2xl font-semibold text-gray-900;\n  }\n\n  .section-actions {\n    @apply flex items-center gap-4;\n  }\n</style>\n"],"names":["alertsStore","useAlertsStore","route","useRoute","alert","ref","handleSubmit","data","router","onMounted","_createElementBlock","_openBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","Button","_unref","Icon","_hoisted_3","_toDisplayString","AlertForm","_hoisted_4","_hoisted_5","_cache","_hoisted_6"],"mappings":"8mBAkDE,MAAMA,EAAcC,EAAe,EAC7BC,EAAQC,EAAS,EAEjBC,EAAQC,EAAkB,IAAI,EAE9BC,EAAe,MAAOC,GAAc,CACpC,GAAA,CACE,GAAA,CAACH,EAAM,MACH,MAAA,IAAI,MAAM,iBAAiB,EAGnC,MAAMJ,EAAY,YAAYI,EAAM,MAAM,GAAIG,CAAI,EAClDC,EAAO,KAAK,CAAE,KAAM,QAAA,CAAU,OAChB,CAAA,CAGlB,EAEA,OAAAC,EAAU,SAAY,CACpB,MAAMT,EAAY,YAAY,EACxBI,EAAA,MAAQJ,EAAY,OAAO,KAAKI,GAASA,EAAM,KAAOF,EAAM,OAAO,EAAE,GAAK,IAAA,CACjF,cAtEDQ,EAoCM,MAAA,KAAA,CAnCON,EAAK,OAAhBO,EAAA,EAAAD,EAaM,MAbNE,EAaM,CAZJC,EAKM,MALNC,EAKM,CAJJC,EAESC,EAAA,CAFD,QAAQ,QAAS,KAAM,CAAkB,KAAA,QAAA,EAAE,MAAM,wBAAA,aACvD,IAAiE,CAAjED,EAAiEE,EAAAC,CAAA,EAAA,CAA3D,KAAK,sBAAsB,MAAM,kCAEzCL,EAAyD,KAAzDM,EAA4B,WAAWC,EAAAhB,EAAA,MAAM,IAAI,EAAA,CAAA,CAAA,GAEnDW,EAKEM,EAAA,CAJC,MAAOjB,EAAK,MACZ,QAASa,EAAWjB,CAAA,EAAC,QACrB,SAAU,GACV,SAAQM,qCAGb,EAAAI,EAOM,MAAAY,EAAA,CANJT,EAKM,MALNU,EAKM,CAJJR,EAESC,EAAA,CAFD,QAAQ,QAAS,KAAM,CAAkB,KAAA,QAAA,EAAE,MAAM,wBAAA,aACvD,IAAiE,CAAjED,EAAiEE,EAAAC,CAAA,EAAA,CAA3D,KAAK,sBAAsB,MAAM,kCAEzCM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAX,EAAiD,KAA7C,CAAA,MAAM,mBAAkB,mBAAgB,EAAA,QAKrCI,EAAAjB,CAAA,EAAY,OAAvBW,IAAAD,EAUM,MAVNe,EAUM,CATJV,EAAwDE,EAAAC,CAAA,EAAA,CAAlD,KAAK,wBAAwB,MAAM,YAAA,GACzCL,EAAoC,OAAA,KAAAO,EAA3BH,EAAWjB,CAAA,EAAC,KAAK,EAAA,CAAA,EAC1Be,EAMEC,EAAA,CALA,QAAQ,QACR,KAAK,KACL,YAAU,WACT,QAAOC,EAAWjB,CAAA,EAAC,WACpB,MAAM,aAAA"}