var se=Object.defineProperty;var le=(h,e,c)=>e in h?se(h,e,{enumerable:!0,configurable:!0,writable:!0,value:c}):h[e]=c;var E=(h,e,c)=>le(h,typeof e!="symbol"?e+"":e,c);import{c as p,a as s,o as u,d as L,A as M,F as N,p as y,q as Y,g as A,t as _,v as H,k as S,K as ie,n as D,C as j,L as ne,M as de,y as C,u as ue,N as ce,E as me,i as q,j as I,D as pe,h as w,_ as K,l as ge,H as fe,B as he,w as ve,x as ye}from"./index-Cwfaiojx.js";import{u as we}from"./listings-D2fJ6JDs.js";import{C as X,D as be}from"./constants-DDm60LNs.js";import{_ as Z}from"./Text.vue_vue_type_script_setup_true_lang-Cv6843iF.js";import{_ as B}from"./Dropdown.vue_vue_type_script_setup_true_lang-B0_BpkFG.js";import{r as z}from"./ExclamationTriangleIcon-DEpotFsV.js";import{L as _e}from"./LocationSelector-569OudmH.js";import"./Map-CKaJgrhF.js";function xe(h,e){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function ke(h,e){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function Ie(h,e){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function $e(h,e){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const Ue=["for"],Ve={key:0,class:"text-error-600"},Ee=["id","rows","placeholder","required"],Se=L({__name:"TextBox",props:{modelValue:{},label:{},id:{},placeholder:{},required:{type:Boolean},rows:{default:4}},emits:["update:modelValue","input"],setup(h,{emit:e}){const c=h,l=e,a=M({get:()=>c.modelValue,set:o=>l("update:modelValue",o)});return(o,t)=>(u(),p(N,null,[o.label?(u(),p("label",{key:0,for:o.id,class:"block text-sm font-medium text-gray-700 mb-2"},[A(_(o.label),1),o.required?(u(),p("span",Ve,"*")):y("",!0)],8,Ue)):y("",!0),Y(s("textarea",{id:o.id,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value=r),rows:o.rows,placeholder:o.placeholder,required:o.required,class:"input",onInput:t[1]||(t[1]=r=>o.$emit("input",a.value))},null,40,Ee),[[H,a.value]])],64))}}),Me={class:"space-y-2"},Ce=["for"],De={key:0,class:"text-error-600"},Ae=["id","placeholder","onKeydown"],Le={class:"flex flex-wrap gap-2 mb-2"},Ne=["onClick"],qe=L({__name:"Tags",props:{id:{},label:{},required:{type:Boolean},modelValue:{},placeholder:{}},emits:["update:modelValue","add","remove"],setup(h,{emit:e}){const c=h,l=e,a=S("");function o(){const r=a.value.trim();r&&!c.modelValue.includes(r)&&(l("update:modelValue",[...c.modelValue,r]),l("add",r)),a.value=""}function t(r){const i=[...c.modelValue],g=i.splice(r,1);l("update:modelValue",i),l("remove",g[0])}return(r,i)=>(u(),p("div",Me,[r.label?(u(),p("label",{key:0,for:r.id,class:"block text-sm font-medium text-gray-700 mb-2"},[A(_(r.label),1),r.required?(u(),p("span",De,"*")):y("",!0)],8,Ce)):y("",!0),Y(s("input",{"onUpdate:modelValue":i[0]||(i[0]=g=>a.value=g),id:r.id,placeholder:r.placeholder,class:"input",onKeydown:ie(D(o,["prevent"]),["enter"]),onBlur:o,type:"text"},null,40,Ae),[[H,a.value]]),s("div",Le,[(u(!0),p(N,null,j(r.modelValue,(g,f)=>(u(),p("span",{key:f,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800"},[A(_(g)+" ",1),s("button",{type:"button",onClick:x=>t(f),class:"ml-2 text-primary-600 hover:text-primary-500"},[ne(r.$slots,"remove-icon",{},()=>[i[1]||(i[1]=s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1))])],8,Ne)]))),128))])]))}}),{debug:F,info:U,error:T}=de("ImageUpload");class b{static validateFiles(e){const c=Array.from(e),l=[],a=[];for(const o of c){if(!this.ALLOWED_TYPES.includes(o.type)){a.push(`${o.name}: Invalid file type. Only JPG, PNG, and GIF files are allowed.`);continue}if(o.size>this.MAX_FILE_SIZE){a.push(`${o.name}: File too large. Maximum size is 2MB.`);continue}l.push(o)}return{valid:l,errors:a}}static validateImageCount(e,c){return e+c>this.MAX_IMAGES?`Maximum ${this.MAX_IMAGES} images allowed. You can add ${this.MAX_IMAGES-e} more.`:null}static async compressImage(e){return new Promise((c,l)=>{const a=document.createElement("canvas"),o=a.getContext("2d"),t=new Image,r=setTimeout(()=>{l(new Error("Image compression timed out"))},3e4);t.onload=()=>{try{clearTimeout(r);let{width:i,height:g}=t;if(i>this.MAX_DIMENSION||g>this.MAX_DIMENSION){const f=Math.min(this.MAX_DIMENSION/i,this.MAX_DIMENSION/g);i*=f,g*=f}a.width=i,a.height=g,o.drawImage(t,0,0,i,g),a.toBlob(f=>{f?c(f):l(new Error("Failed to compress image"))},"image/jpeg",this.COMPRESSION_QUALITY)}catch(i){clearTimeout(r),l(i)}},t.onerror=()=>{clearTimeout(r),l(new Error("Failed to load image"))},t.src=URL.createObjectURL(e)})}static generateFileName(e,c){const l=Date.now(),a=Math.random().toString(36).substring(2,8);return`${e}/${l}_${a}.jpg`}static async uploadImage(e,c,l){try{if(U("Starting image upload for file:",e.name),!c)throw new Error("User ID is required for image upload");const a=await Promise.race([this.compressImage(e),new Promise((g,f)=>setTimeout(()=>f(new Error("Image compression timed out")),3e4))]);U("Image compressed successfully, size:",a.size);const o=this.generateFileName(c,e.name);F("Generated filename:",o);const t=await C.storage.from("listing-images").upload(o,a,{cacheControl:"3600",upsert:!1});if(F("Supabase upload successful:",t),!t||t.error)throw new Error("Upload failed: No data returned from Supabase");const{data:r}=await C.storage.from("listing-images").getPublicUrl(t.data.path),i={url:r.publicUrl,path:t.data.path};return U("Upload completed successfully:",i),i}catch(a){if(T("Image upload error:",a),a instanceof Error)throw a;if(a instanceof Error){if(a.message.includes("timed out"))throw new Error("Upload timed out. Please try again.");if(a.message.includes("network")||a.message.includes("fetch"))throw new Error("Network error during upload. Please check your connection.")}throw new Error(a instanceof Error?a.message:"Upload failed")}}static async uploadImages(e,c,l,a,o){const t=[];if(U(`Starting upload of ${e.length} images for user ${c}`),!c)throw new Error("User ID is required for image upload");for(let r=0;r<e.length;r++){const i=e[r],g=`upload_${Date.now()}_${r}_${Math.random().toString(36).substring(2,8)}`;F(`Processing image ${r+1}/${e.length}:`,i.name);try{l==null||l(g,{loaded:0,total:100,percentage:0});const f=await this.uploadImage(i,c,x=>l==null?void 0:l(g,x));U(`Image ${r+1} uploaded successfully:`,f),t.push(f),a==null||a(g,f),l==null||l(g,{loaded:100,total:100,percentage:100})}catch(f){const x=f instanceof Error?f.message:"Upload failed";T(`Image ${r+1} upload failed:`,x),o==null||o(g,x)}}return U(`Upload process completed. ${t.length}/${e.length} images uploaded successfully`),t}static async deleteImage(e){if(!e)throw new Error("Image path is required for deletion");await C.storage.from("listing-images").remove([e])}static async deleteImages(e){e.length!==0&&await C.storage.from("listing-images").remove(e)}static createPreviewUrl(e){return URL.createObjectURL(e)}static revokePreviewUrl(e){try{URL.revokeObjectURL(e)}catch(c){console.warn("Failed to revoke preview URL:",c)}}static async cleanupOrphanedImages(e,c){try{if(!e)throw new Error("User ID is required for cleanup");const{data:l}=await C.storage.from("listing-images").list(e),a=(l==null?void 0:l.filter(o=>!c.includes(`${e}/${o.name}`)).map(o=>`${e}/${o.name}`))||[];a.length>0&&(await this.deleteImages(a),U(`Cleaned up ${a.length} orphaned images`))}catch(l){T("Failed to cleanup orphaned images:",l)}}}E(b,"MAX_FILE_SIZE",2*1024*1024),E(b,"MAX_IMAGES",8),E(b,"ALLOWED_TYPES",["image/jpeg","image/jpg","image/png","image/gif"]),E(b,"COMPRESSION_QUALITY",.9),E(b,"MAX_DIMENSION",1920);const Oe={class:"image-upload"},Be={class:"text-center py-8"},Fe={class:"w-12 h-12 mx-auto mb-4 text-gray-400"},Te={class:"text-sm text-gray-600 mb-2"},je={key:0,class:"font-medium text-primary-600"},Pe={key:1},Re={class:"text-xs text-gray-500"},Ge={key:0,class:"mt-4 space-y-2"},Xe={class:"text-sm text-error-700"},Ze={key:1,class:"mt-6"},ze={class:"flex items-center justify-between mb-4"},Ye={class:"text-sm font-medium text-gray-900"},He={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Ke=["src","alt"],Je={key:0,class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center"},Qe={key:1,class:"absolute top-2 left-2 w-6 h-6 bg-success-500 rounded-full flex items-center justify-center"},We={key:2,class:"absolute inset-0 bg-error-500 bg-opacity-75 flex items-center justify-center"},et={class:"text-center"},tt=["onClick"],at=["onClick"],ot={key:2,class:"mt-4 p-3 bg-gray-50 rounded-md"},rt={class:"flex items-center justify-between text-sm"},st={class:"text-gray-600"},lt={key:0,class:"text-error-600"},it={key:0,class:"mt-2"},nt={class:"w-full bg-gray-200 rounded-full h-2"},dt=L({__name:"ImageUpload",props:{maxImages:{default:8},existingImages:{default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["upload-complete","images-changed","upload-error"],setup(h,{expose:e,emit:c}){const l=h,a=c,o=ue(),t=S(),r=S(),i=S([]),g=S([]),f=S(!1),x=M(()=>g.value.length>0),$=M(()=>{const d=i.value.length,m=i.value.filter(k=>k.uploaded).length,n=i.value.filter(k=>k.error).length,v=i.value.filter(k=>k.uploading).length,O=d>0?m/d*100:0;return{total:d,completed:m,failed:n,inProgress:v,progressPercentage:O}}),V=M(()=>{const d=i.value.filter(m=>m.uploaded&&m.url).map(m=>m.url);return[...l.existingImages,...d]}),J=()=>{var d;l.disabled||(d=r.value)==null||d.click()},Q=d=>{l.disabled||(d.preventDefault(),f.value=!0)},W=d=>{l.disabled||(d.preventDefault(),f.value=!1)},ee=d=>{var n;if(l.disabled)return;d.preventDefault(),f.value=!1;const m=(n=d.dataTransfer)==null?void 0:n.files;m&&P(m)},te=d=>{if(l.disabled)return;const m=d.target,n=m.files;n&&(P(n),m.value="")},P=async d=>{g.value=[];const m=b.validateImageCount(V.value.length,d.length);if(m){g.value.push(m);return}const{valid:n,errors:v}=b.validateFiles(d);if(v.length>0&&g.value.push(...v),n.length===0)return;const O=n.map((k,re)=>({id:`${Date.now()}_${re}_${Math.random().toString(36).substring(2,8)}`,file:k,preview:b.createPreviewUrl(k),uploading:!1,uploaded:!1}));i.value.push(...O),await R(i)},R=async d=>{var m;if(!((m=o.user)!=null&&m.id)){g.value.push("User not authenticated");return}console.log(`Starting upload process for ${d.length} images`);for(const n of d.value)if(!n.uploaded)try{console.log(`Starting upload for image: ${n.file.name}`),n.uploading=!0,n.error=void 0;const v=await b.uploadImage(n.file,o.user.id);console.log(`Upload completed for image: ${n.file.name}`,v),n.uploading=!1,n.uploaded=!0,n.url=v.url,n.error=void 0,a("images-changed",V.value),a("upload-complete",V.value)}catch(v){console.error(`Upload failed for image: ${n.file.name}`,v),n.uploading=!1,n.uploaded=!1,n.error=v instanceof Error?v.message:"Upload failed",a("upload-error",[n.error])}console.log("Upload process completed")},ae=d=>{const m=i.value.findIndex(v=>v.id===d);if(m===-1)return;const n=i.value[m];b.revokePreviewUrl(n.preview),i.value.splice(m,1),a("images-changed",V.value)},G=()=>{i.value.forEach(d=>{b.revokePreviewUrl(d.preview)}),i.value=[],g.value=[],a("images-changed",V.value)},oe=async d=>{const m=i.value.find(n=>n.id===d);m&&(m.error=void 0,await R([m]))};return ce(()=>{i.value.forEach(d=>{b.revokePreviewUrl(d.preview)})}),e({clearAllImages:G,getUploadedUrls:()=>V.value,hasUploads:()=>i.value.some(d=>d.uploaded),isUploading:()=>i.value.some(d=>d.uploading)}),(d,m)=>(u(),p("div",Oe,[s("div",{ref_key:"dropZone",ref:t,class:me(["upload-zone",{"border-primary-500 bg-primary-50":f.value,"border-error-300 bg-error-50":x.value,"border-gray-300":!f.value&&!x.value}]),onClick:J,onDragover:D(Q,["prevent"]),onDragleave:D(W,["prevent"]),onDrop:D(ee,["prevent"])},[s("input",{ref_key:"fileInput",ref:r,type:"file",multiple:"",accept:"image/jpeg,image/jpg,image/png,image/gif",class:"hidden",onChange:te},null,544),s("div",Be,[s("div",Fe,[f.value?(u(),q(I(ke),{key:1,class:"w-full h-full text-primary-500"})):(u(),q(I(Ie),{key:0,class:"w-full h-full"}))]),s("div",Te,[f.value?(u(),p("span",je," Drop images here ")):(u(),p("span",Pe,m[0]||(m[0]=[s("button",{type:"button",class:"font-medium text-primary-600 hover:text-primary-500"}," Click to upload ",-1),A(" or drag and drop ")])))]),s("p",Re," PNG, JPG, GIF up to 2MB each (max "+_(d.maxImages)+" images) ",1)])],34),g.value.length>0?(u(),p("div",Ge,[(u(!0),p(N,null,j(g.value,(n,v)=>(u(),p("div",{key:v,class:"flex items-start p-3 bg-error-50 border border-error-200 rounded-md"},[w(I(z),{class:"w-5 h-5 text-error-600 mt-0.5 mr-3 flex-shrink-0"}),s("p",Xe,_(n),1)]))),128))])):y("",!0),i.value.length>0?(u(),p("div",Ze,[s("div",ze,[s("h4",Ye," Images ("+_(i.value.length)+"/"+_(d.maxImages)+") ",1),i.value.length>0?(u(),p("button",{key:0,type:"button",onClick:G,class:"text-sm text-error-600 hover:text-error-500"}," Remove All ")):y("",!0)]),s("div",He,[(u(!0),p(N,null,j(i.value,n=>(u(),p("div",{key:n.id,class:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden"},[s("img",{src:n.preview,alt:`Preview ${n.id}`,class:"w-full h-full object-cover"},null,8,Ke),n.uploading?(u(),p("div",Je,m[1]||(m[1]=[s("div",{class:"text-center"},[s("div",{class:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin mx-auto mb-2"}),s("p",{class:"text-xs text-white"},"Uploading...")],-1)]))):n.uploaded?(u(),p("div",Qe,[w(I(xe),{class:"w-4 h-4 text-white"})])):n.error?(u(),p("div",We,[s("div",et,[w(I(z),{class:"w-6 h-6 text-white mx-auto mb-1"}),m[2]||(m[2]=s("p",{class:"text-xs text-white"},"Failed",-1))])])):y("",!0),s("button",{type:"button",onClick:v=>ae(n.id),class:"absolute top-2 right-2 w-6 h-6 bg-error-500 hover:bg-error-600 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[w(I($e),{class:"w-4 h-4 text-white"})],8,tt),n.error?(u(),p("button",{key:3,type:"button",onClick:v=>oe(n.id),class:"absolute bottom-2 left-2 right-2 bg-white hover:bg-gray-50 text-gray-900 text-xs py-1 px-2 rounded border"}," Retry ",8,at)):y("",!0)]))),128))])])):y("",!0),$.value.total>0?(u(),p("div",ot,[s("div",rt,[s("span",st,_($.value.completed)+" of "+_($.value.total)+" uploaded ",1),$.value.failed>0?(u(),p("span",lt,_($.value.failed)+" failed ",1)):y("",!0)]),$.value.inProgress>0?(u(),p("div",it,[s("div",nt,[s("div",{class:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:pe({width:`${$.value.progressPercentage}%`})},null,4)])])):y("",!0)])):y("",!0)]))}}),ut=K(dt,[["__scopeId","data-v-1c5dbea0"]]),ct={class:"space-y-6"},mt={class:"space-y-6"},pt={class:"grid md:grid-cols-2 gap-6"},gt={class:"space-y-6"},ft={class:"space-y-6"},ht=L({__name:"ListingCreateUpdateForm",emits:["submit"],setup(h){const e=ge({title:"",description:"",category:"",subcategory:"",compensation:"",duration_estimate:"",skills_required:[],images:[],location:null}),c=M(()=>{if(!e.category)return[];const o=X.find(t=>t.value===e.category);return(o==null?void 0:o.subcategories)??[]}),l=M(()=>e.category==="help-needed");fe(()=>e.category,()=>{e.subcategory="",e.category!=="help-needed"&&(e.duration_estimate="")});const a=o=>{e.images=o};return(o,t)=>(u(),p("form",{onSubmit:t[8]||(t[8]=D(r=>o.$emit("submit",e),["prevent"])),class:"space-y-8"},[s("div",ct,[t[9]||(t[9]=s("h2",{class:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2"}," Basic Information ",-1)),w(Z,{id:"title",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=r=>e.title=r),label:"Title",required:"",placeholder:"Brief description of your request"},null,8,["modelValue"]),w(Se,{id:"description",modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=r=>e.description=r),label:"Description",required:"",placeholder:"Provide detailed information about what you need or offer"},null,8,["modelValue"])]),s("div",mt,[t[10]||(t[10]=s("h2",{class:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2"}," Category & Details ",-1)),s("div",pt,[w(B,{id:"category",modelValue:e.category,"onUpdate:modelValue":t[2]||(t[2]=r=>e.category=r),options:I(X),label:"Category",required:"",placeholder:"Select a category"},null,8,["modelValue","options"]),e.category?(u(),q(B,{key:0,id:"subcategory",modelValue:e.subcategory,"onUpdate:modelValue":t[3]||(t[3]=r=>e.subcategory=r),options:c.value,label:"Subcategory",required:"",placeholder:"Select a subcategory"},null,8,["modelValue","options"])):y("",!0),l.value?(u(),q(B,{key:1,id:"duration",modelValue:e.duration_estimate,"onUpdate:modelValue":t[4]||(t[4]=r=>e.duration_estimate=r),options:I(be),label:"Estimated Duration",helper:"How long do you estimate this task will take?",required:l.value,placeholder:"Select duration"},null,8,["modelValue","options","required"])):y("",!0)]),s("div",null,[w(qe,{id:"tags",modelValue:e.skills_required,"onUpdate:modelValue":t[5]||(t[5]=r=>e.skills_required=r),label:"Skills Required (Optional)",placeholder:"e.g., driving, heavy lifting, computer skills (press Enter to add)"},null,8,["modelValue"])]),w(Z,{id:"compensation",modelValue:e.compensation,"onUpdate:modelValue":t[6]||(t[6]=r=>e.compensation=r),label:"Compensation (Optional)",placeholder:"e.g., $20, Coffee & snacks, Gas money"},null,8,["modelValue"])]),s("div",gt,[t[11]||(t[11]=s("h2",{class:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2"},"Location",-1)),w(_e,{modelValue:e.location,"onUpdate:modelValue":t[7]||(t[7]=r=>e.location=r),label:"Location",required:!0},null,8,["modelValue"])]),s("div",ft,[t[14]||(t[14]=s("h2",{class:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2"}," Images (Optional) ",-1)),s("div",null,[t[12]||(t[12]=s("p",{class:"text-sm text-gray-600 mb-4"}," Add images to help others understand your request better. ",-1)),w(ut,{ref:"imageUploadRef","max-images":8,"existing-images":e.images,onImagesChanged:a},null,8,["existing-images"]),t[13]||(t[13]=s("p",{class:"text-xs text-gray-500 mt-2"}," You can upload up to 8 images. Supported formats: JPG, PNG, GIF. No larger than 2MB after compression. ",-1))])]),w(he,{type:"submit"},{default:ve(()=>t[15]||(t[15]=[A("Create Listing")])),_:1,__:[15]})],32))}}),vt={class:"listing-create-view"},yt=L({__name:"ListingCreateView",setup(h){const e=ye(),c=we(),l=async a=>{try{if(!a.title||!a.description)throw new Error("Title and description are required");const o=await c.createListing(a);o&&e.push({name:"show",params:{id:o.id}})}catch(o){console.error("Error creating listing:",o)}};return(a,o)=>(u(),p("div",vt,[o[0]||(o[0]=s("div",{class:"mb-8"},[s("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Create New Request"),s("p",{class:"text-gray-600"},"Share what you need or offer help to your community")],-1)),w(ht,{onSubmit:l})]))}}),Et=K(yt,[["__scopeId","data-v-a6885626"]]);export{Et as default};
//# sourceMappingURL=ListingCreateView-CO1SCVJ2.js.map
